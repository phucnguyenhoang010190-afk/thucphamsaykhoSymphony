<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Thanh to√°n | üåø Dinh D∆∞·ª°ng S·∫•y Kh√¥</title>
  <style>
    :root {
      --primary: #8bc34a;
      --primary-dark: #689f38;
      --bg: #f8fff4;
      --card-bg: #fff;
      --muted: #666;
      --radius: 12px;
      --shadow: 0 4px 14px rgba(0, 0, 0, 0.1);
    }

    * { box-sizing: border-box; font-family: 'Segoe UI', sans-serif; }

    body {
      background: var(--bg);
      margin: 0;
      color: #333;
    }

    header {
      background: var(--primary);
      color: #fff;
      padding: 15px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: var(--shadow);
    }

    header .logo {
      font-size: 22px;
      font-weight: bold;
    }

    header nav a {
      color: #fff;
      text-decoration: none;
      margin-left: 15px;
      font-weight: 600;
    }

    .checkout-container {
      max-width: 1000px;
      margin: 40px auto;
      background: var(--card-bg);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 30px;
      display: grid;
      grid-template-columns: 2fr 1fr;
      gap: 28px;
    }

    @media (max-width: 900px) {
      .checkout-container {
        grid-template-columns: 1fr;
      }
    }

    h1 {
      color: var(--primary-dark);
      text-align: center;
      margin-bottom: 30px;
      font-size: 28px;
    }

    label { display: block; font-weight: 600; margin-bottom: 6px; }
    input, select, textarea {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 8px;
      margin-bottom: 15px;
      font-size: 15px;
    }

    .btn-submit {
      display: block;
      width: 100%;
      background: var(--primary);
      color: #fff;
      text-align: center;
      padding: 14px;
      border-radius: 8px;
      font-weight: bold;
      text-decoration: none;
      font-size: 16px;
      border: none;
      cursor: pointer;
      transition: background 0.3s;
    }
    .btn-submit:hover { background: var(--primary-dark); }

    /* ORDER SUMMARY */
    .order-summary {
      background: #f9fdf5;
      padding: 20px;
      border-radius: 10px;
      box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.03);
    }

    .order-item {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 0;
      border-bottom: 1px dashed #ddd;
    }

    .order-item:last-child { border-bottom: none; }

    .total {
      text-align: right;
      font-weight: 800;
      color: var(--primary-dark);
      font-size: 18px;
      margin-top: 15px;
    }

    /* PAYMENT METHODS */
    .payment-methods {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .payment-option {
      border: 2px solid transparent;
      border-radius: 10px;
      padding: 10px;
      display: flex;
      align-items: center;
      gap: 8px;
      cursor: pointer;
      flex: 1 1 calc(50% - 10px);
      transition: all 0.3s;
      background: #fff;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }

    .payment-option:hover,
    .payment-option.active {
      border-color: var(--primary);
      background: #f0fdeb;
    }

    .payment-option img {
      width: 30px;
      height: 30px;
      border-radius: 8px;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">üåø Dinh D∆∞·ª°ng S·∫•y Kh√¥</div>
    <nav>
      <a href="index.html">Trang ch·ªß</a>
      <a href="shop.html">S·∫£n ph·∫©m</a>
      <a href="promotion.html">Khuy·∫øn m√£i</a>
    </nav>
  </header>

  <h1>üßæ Thanh to√°n ƒë∆°n h√†ng</h1>

  <div class="checkout-container">
    <!-- Form th√¥ng tin ng∆∞·ªùi nh·∫≠n -->
    <div>
      <h2>Th√¥ng tin giao h√†ng</h2>
      <form id="checkout-form" onsubmit="event.preventDefault(); completeOrder();">
        <label>H·ªç v√† t√™n</label>
        <input type="text" id="fullname" required placeholder="Nguy·ªÖn VƒÉn A">

        <label>S·ªë ƒëi·ªán tho·∫°i</label>
        <input type="tel" id="phone" required placeholder="090xxxxxxx">

        <label>ƒê·ªãa ch·ªâ giao h√†ng</label>
        <textarea id="address" rows="3" required placeholder="S·ªë nh√†, ƒë∆∞·ªùng, ph∆∞·ªùng/x√£, qu·∫≠n/huy·ªán, t·ªânh/th√†nh..."></textarea>

        <label>Ph∆∞∆°ng th·ª©c thanh to√°n</label>
        <div class="payment-methods" id="paymentMethods">
          <div class="payment-option active" data-method="cod">
            <img src="https://cdn-icons-png.flaticon.com/512/483/483497.png" alt="cod">
            <span>Thanh to√°n khi nh·∫≠n h√†ng (COD)</span>
          </div>
          <div class="payment-option" data-method="bank">
            <img src="https://cdn-icons-png.flaticon.com/512/2331/2331941.png" alt="bank">
            <span>Chuy·ªÉn kho·∫£n ng√¢n h√†ng</span>
          </div>
          <div class="payment-option" data-method="momo">
            <img src="https://upload.wikimedia.org/wikipedia/vi/f/fe/MoMo_Logo.png" alt="momo">
            <span>V√≠ MoMo</span>
          </div>
          <div class="payment-option" data-method="zalopay">
            <img src="https://cdn.tgdd.vn/2020/04/GameApp/image-180x180.png" alt="zalopay">
            <span>ZaloPay</span>
          </div>
        </div>

        <input type="hidden" id="payment" value="cod">
        <button type="submit" class="btn-submit">X√°c nh·∫≠n ƒë·∫∑t h√†ng</button>
      </form>
    </div>

    <!-- T√≥m t·∫Øt ƒë∆°n h√†ng -->
    <div>
      <h2>ƒê∆°n h√†ng c·ªßa b·∫°n</h2>
      <div class="order-summary" id="orderSummary">ƒêang t·∫£i...</div>
    </div>
  </div>

  <script>
    const CART_KEY = 'dinhduongsaykho_cart_v1';

    function getCart(){
      return JSON.parse(localStorage.getItem(CART_KEY) || '{}');
    }

    function formatVND(n){
      return n.toLocaleString('vi-VN') + 'ƒë';
    }

    // Hi·ªÉn th·ªã danh s√°ch s·∫£n ph·∫©m trong gi·ªè h√†ng
    function renderOrderSummary(){
      const cart = getCart();
      const summary = document.getElementById('orderSummary');
      const ids = Object.keys(cart);
      if(!ids.length){
        summary.innerHTML = '<p>üõí Gi·ªè h√†ng c·ªßa b·∫°n ƒëang tr·ªëng.</p>';
        return;
      }

      let total = 0;
      let html = '';
      ids.forEach(id=>{
        const item = cart[id];
        const subtotal = item.price * item.qty;
        total += subtotal;
        html += `
          <div class="order-item">
            <div>${item.name} x${item.qty}</div>
            <div>${formatVND(subtotal)}</div>
          </div>
        `;
      });
      html += `<div class="total">T·ªïng c·ªông: ${formatVND(total)}</div>`;
      summary.innerHTML = html;
    }

    // Ch·ªçn ph∆∞∆°ng th·ª©c thanh to√°n
    document.getElementById('paymentMethods').addEventListener('click', e=>{
      const option = e.target.closest('.payment-option');
      if(!option) return;
      document.querySelectorAll('.payment-option').forEach(o=>o.classList.remove('active'));
      option.classList.add('active');
      document.getElementById('payment').value = option.dataset.method;
    });

    // Ho√†n t·∫•t ƒë∆°n h√†ng
    function completeOrder(){
      const name = document.getElementById('fullname').value.trim();
      const phone = document.getElementById('phone').value.trim();
      const address = document.getElementById('address').value.trim();
      const payment = document.getElementById('payment').value;

      if(!name || !phone || !address){
        alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß th√¥ng tin giao h√†ng.');
        return;
      }

      alert(`üéâ C·∫£m ∆°n ${name}! ƒê∆°n h√†ng ƒë√£ ƒë∆∞·ª£c x√°c nh·∫≠n.\nPh∆∞∆°ng th·ª©c thanh to√°n: ${payment.toUpperCase()}`);
      localStorage.removeItem(CART_KEY);
      window.location.href = 'index.html';
    }

    document.addEventListener('DOMContentLoaded', renderOrderSummary);
  </script>
</body>
</html>
